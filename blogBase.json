{"singlePage": [], "startSite": "", "filingNum": "", "onePageListNum": 15, "commentLabelColor": "#006b75", "yearColorList": ["#bc4c00", "#0969da", "#1f883d", "#A333D0"], "i18n": "CN", "themeMode": "manual", "dayTheme": "light", "nightTheme": "dark", "urlMode": "pinyin", "script": "", "style": "", "head": "", "indexScript": "", "indexStyle": "", "bottomText": "", "showPostSource": 1, "iconList": {}, "UTC": 8, "rssSplit": "sentence", "exlink": {}, "needComment": 1, "allHead": "", "title": "BilimLink", "subTitle": "A simple life created by demanding less", "avatarUrl": "https://github.githubassets.com/favicons/favicon.svg", "GMEEK_VERSION": "last", "postListJson": {"P1": {"htmlDir": "docs/post/TinaCMS + 11ty.html", "labels": ["11ty"], "postTitle": "TinaCMS + 11ty", "postUrl": "post/TinaCMS%20%2B%2011ty.html", "postSourceUrl": "https://github.com/Kairat619/bilimlink/issues/1", "commentNum": 0, "wordCount": 7174, "description": "I was browsing the web and kept coming across [TinaCMS](https://tina.io/) and how you can run it locally, as well as in their cloud platform. What I did not want to do was add a lot of complexity to adding this to my site, and make changes to the structure of my site, more dependencies, etc. Luckily, most of the installation was a drop-in-place system and was able to get started pretty quickly.\r\n\r\nThere is a nice [11ty + TinaCMS Setup Guide](https://tina.io/docs/frameworks/11ty/) as well. Plus, I'll share a little of my setup post install.\r\n\r\nGetting Started\r\nTinaCMS has a pretty simple quick setup guide to get their CMS style solution added to your project.\r\n\r\nnpx @tinacms/cli@latest init\r\nThis will install the tinacms and accompanying CLI tools if needed. You might get asked some basic questions, and I took the defaults, as I didn't have much to change.\r\n\r\nConfiguration after install\r\nAfter the installation, their guide has you go through your new tina/config.ts file and update any [content modeling](https://tina.io/docs/schema/), as they call it. A fancy way to state you can adjust the CMS to your project and customize the system to your needs.\r\n\r\nI'll review the changes I made for my [11ty](https://www.11ty.dev/) install later.\r\n\r\nStarting TinaCMS\r\nTo get started and make sure everything is starting correctly, we can run the following command.\r\n\r\nnpx tinacms dev - c '@11ty/eleventy --serve'\r\nThis will start the tinacms server and then your custom dev command to serve your content while editing.\r\n\r\nOnce your page is running and started, you can browse to http://localhost:8080/admin or <your-dev-server>:<dev-port>/admin and see something like the following\r\n\r\nWelcome screen of TinaCMS after initial install\r\n\r\nDeploying your site\r\nOnce you start editing and get your site configured, you can commit your tina/ folder that has your configurations to your remote git host and then integrate with the [Tina Cloud](https://app.tina.io/) and be able to edit files online from anywhere.\r\n\r\nFor now, I am going to keep it all local, and could commit the tina/ folder to keep configuration consistent across devices.\r\n\r\nIf you'd like more information, check out the documentation for [Deploying Tina to your site](https://tina.io/docs/frameworks/11ty/#deploy-tina-to-your-site).\r\n\r\nMy Configuration Changes\r\nFirst, I wanted to configure a new run command. The npx tinacms dev -c 'eleventy --serve' is a bit much to always type in. Plus I have dev command that properly starts up my stylus, eleventy watch, and serve commands.\r\n\r\n'scripts': {\r\n  'dev': 'cross-env ELEVENTY_ENV=dev concurrently -n stylus,11ty \\'npm:watch:stylus\\' \\'npm:watch:11ty\\'',\r\n  'cms': 'npx tinacms dev -c \\'npm run dev\\'',\r\n},\r\nNow I can run npm run cms and properly the CMS engine and the 11ty project.\r\n\r\nWithin the tina/config.ts file, you have all your configurations for your CMS site.\r\n\r\nThe build and media are configured based on where you have your static content and build directory going when 11ty builds your site. For me, I have it create a build folder on the root and my media is stored in a static folder at the root that gets copied over to the build folder on build.\r\n\r\nbuild: {\r\n  outputFolder: 'admin',\r\n  publicFolder: 'build',\r\n},\r\nmedia: {\r\n  tina: {\r\n    mediaRoot: 'static',\r\n    publicFolder: 'build',\r\n  },\r\n},\r\nThe schema is where the real fun begins! You define a collection, and can customize the settings as well as the fields for the front matter, defaults, file names, and more.\r\n\r\nBy default, TinaCMS names your file the title you provide and adds the markdown extension. I wanted to require a title and have it save the file name according to how my site is built.\r\n\r\nconst dateTime = (new Date()).toISOString().split('T')[0];\r\n\r\n// excerpt from the export function of defineConfig();\r\nschema: {\r\n  collections: [\r\n    {\r\n      name: 'post',\r\n      label: 'Posts',\r\n      path: 'src/posts',\r\n      format: 'md',\r\n      },\r\n      fields: [\r\n        {\r\n          type: 'string',\r\n          name: 'title',\r\n          label: 'Title',\r\n          isTitle: true,\r\n          required: true,\r\n        },\r\n        {\r\n          type: 'rich-text',\r\n          name: 'body',\r\n          label: 'Body',\r\n          isBody: true,\r\n        },\r\n      ],\r\n      ui: {\r\n        filename: {\r\n          // if disabled, the editor can not edit the filename\r\n          readonly: true,\r\n          // Example of using a custom slugify function\r\n          slugify: (values) => {\r\n            // Values is an object containing all the values of the form. In this case it is {title?: string, topic?: string}\r\n            return `${dateTime}-${values.title\r\n              ?.toLowerCase()\r\n              .replace(/ /g, '-')}`\r\n          },\r\n        },\r\n      },\r\n    },\r\n  ],\r\n  }\r\nThere is a lot here. I was able to define the custom path to my posts in src/posts and TinaCMS properly displayed my posts in the year folders I recently added. The ui:{} section sets the filename filed to read-only, so you can't edit the field, this is optional. However, I did create a dateTime constant prior to the export function to get today's date in the format needed. We can then pass along the built-in slugify filter and return the YYYY-mm-dd-title-of-file.md as needed.\r\n\r\nI added a date field, and was able to set a default for this value as well. TinaCMS has some nice filters on the files, but reads the front matter for a date item, and my posts do not have this already. Once I added a custom field, this will be good moving forward.\r\n\r\n{\r\n  label: 'Date',\r\n  name: 'date',\r\n  type: 'datetime',\r\n    ui: {\r\n      dateFormat: 'YYYY-MM-DD',   \r\n    },\r\n},\r\nI kept with the same date format as the file name for consistency. What is nice is the ability to set default values for the fields as well.\r\n\r\nschema: {\r\n  collections: [\r\n    {\r\n      name: 'post',\r\n      label: 'Posts',\r\n      path: 'src/posts',\r\n      format: 'md',\r\n      defaultItem: () => {\r\n        return {\r\n          // When a new post is created the title field will be set to 'New post'\r\n          date: dateTime, // the const defined previously.\r\n        }\r\n      },\r\n      fields: [\r\n        ...\r\nThe other neat thing you can do with string fields is create a list of items. I used this for my site's tags that I choose when writing the posts.\r\n\r\n{\r\n  type: 'string',\r\n  label: 'Tags',\r\n  name: 'tags',\r\n  list: true,\r\n    options: [\r\n      {\r\n        value: '100DaysToOffload',\r\n        label: '100DaysToOffload'\r\n      },\r\n      {\r\n        value: '11ty',\r\n        label: '11ty'\r\n      },\r\n    ]\r\n}\r\nHere is what this looks like now.\r\n\r\nScreenshot of the final TinaCMS config updates.\r\n\r\nConclusion\r\nI know I previously wrote about [CloudCannon and 11ty](https://claytonerrington.com/blog/cloudcannon-eleventy/), but with today's technology there are plenty of great choices. CloudCannon is a great choice as well. Currently, it is in some infancy and will only get better. TinaCMS I have heard of for a while, just never had a moment to get it tested and working until now. There is some setup needed still, but so far I am enjoying the configuration changes and ability to write in a visual way as well.\u3002", "top": 0, "createdAt": 1713105632, "style": "", "script": "", "head": "", "ogImage": "https://github.githubassets.com/favicons/favicon.svg", "createdDate": "2024-04-14", "dateLabelColor": "#bc4c00"}}, "singeListJson": {}, "labelColorDict": {"11ty": "#2ACCC9", "bug": "#d73a4a", "documentation": "#0075ca", "duplicate": "#cfd3d7", "enhancement": "#a2eeef", "good first issue": "#7057ff", "help wanted": "#008672", "invalid": "#e4e669", "question": "#d876e3", "wontfix": "#ffffff"}, "displayTitle": "BilimLink", "faviconUrl": "https://github.githubassets.com/favicons/favicon.svg", "ogImage": "https://github.githubassets.com/favicons/favicon.svg", "primerCSS": "<link href='https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/Primer/21.0.7/primer.css' rel='stylesheet' />", "homeUrl": "https://Kairat619.github.io/bilimlink", "prevUrl": "disabled", "nextUrl": "disabled"}